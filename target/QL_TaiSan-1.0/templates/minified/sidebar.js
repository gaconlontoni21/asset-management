import{getURL as t,getCurrentResource as e,sendRequest as n,showErrorMessage as o}from"./common.js";export function showSubButtonClickEvent(){$("body").on("click",".sub-btn",function(){$(this).next(".sub-menu").slideToggle(),$(this).find(".dropdown").toggleClass("rotate")})}function hide(t,e){$(t).animate({opacity:0},300),$(t).css({"pointer-events":"none"}),$(e).animate({marginLeft:0},500)}function show(t,e){let n=$(t).css("width");$(t).animate({opacity:1},500),$(t).css({"pointer-events":"auto"}),$(e).animate({marginLeft:n},300)}export function showHideSidebarEvent(){let t=$("body .side-bar"),e=$("body .content-wrapper");$("body").on("click","#hide-sidebar-button",function(){let n="0"!==t.css("opacity");!0===n?hide(t,e):show(t,e)}),$("body").on("click","#closeSidebarBtn",function(){hide(t,e)})}export function renderResourceClickEvent(){$("body").on("click",".side-bar a:not(.sub-btn)",function(){if($(this).attr("data-value")===e())return!1;var i=$(this).attr("data-value")+"/view";let a=$(this);var r=$(".menu a:not(.sub-btn)");if(r.filter(".sub-item").removeClass("selected-item"),r.filter(":not(.sub-item)").removeClass("selected-item"),"logout"===$(this).attr("data-value"))return n(t("logout"),"POST",{},{},function(){window.location.href=t("login")},function(t){o(t.responseText)}),!1;n(t(i),"GET",{},{},function(e){let n=$("body .content-wrapper"),o=$("body .side-bar");$(n).find("form-wrapper").detach(),$(n).html($(e).find(".form-wrapper")),a.addClass("selected-item"),$("title").text($(e).filter("title").text());let r=window.innerWidth;console.log(r),r<"600"&&hide(o,n),history.replaceState(null,null,t(i)),$(document).trigger("routeChange")},function(t){o(t.responseText)})})}export function renderSelectedItem(){$(document).ready(function(){var t=$('a[data-value="'+window.location.href.split("/")[4]+'"]');t.addClass("selected-item");var e=t.parent();!$(e).hasClass("item")&&(e.slideToggle(),$(e.parent()).find(".dropdown").toggleClass("rotate"))})}